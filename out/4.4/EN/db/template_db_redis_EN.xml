<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export>
   <version>4.4</version>
   <date>2015-12-30T14:41:30Z</date>
   <groups>
      <group>
         <name>Templates/Databases</name>
      </group>
   </groups>
   <templates>
      <template>
         <template>Template DB Redis</template>
         <name>Template DB Redis</name>
         <description>Description&#13;
&#13;
You can discuss this template or leave feedback on our forum forum url&#13;
&#13;
Template tooling version used: 0.33</description>
         <groups>
            <group>
               <name>Templates/Databases</name>
            </group>
         </groups>
         <applications>
            <application>
               <name>Redis</name>
            </application>
            <application>
               <name>Zabbix raw items</name>
            </application>
         </applications>
         <items>
            <item>
               <name>Redis: Blocked clients</name>
               <type>DEPENDENT</type>
               <key>redis.clients.blocked</key>
               <delay>0</delay>
               <history>7d</history>
               <description>The number of connections waiting on a blocking call</description>
               <applications>
                  <application>
                     <name>Redis</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>JSONPATH</type>
                     <params>$.Clients.blocked_clients</params>
                  </step>
               </preprocessing>
               <master_item>
                  <key>redis.info["{$REDIS.CONN.URI}"]</key>
               </master_item>
            </item>
            <item>
               <name>Redis: Connected clients</name>
               <type>DEPENDENT</type>
               <key>redis.clients.connected</key>
               <delay>0</delay>
               <history>7d</history>
               <description>The number of connected clients</description>
               <applications>
                  <application>
                     <name>Redis</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>JSONPATH</type>
                     <params>$.Clients.connected_clients</params>
                  </step>
               </preprocessing>
               <master_item>
                  <key>redis.info["{$REDIS.CONN.URI}"]</key>
               </master_item>
            </item>
            <item>
               <name>Redis: Cluster enabled</name>
               <type>DEPENDENT</type>
               <key>redis.cluster.enabled</key>
               <delay>0</delay>
               <history>7d</history>
               <applications>
                  <application>
                     <name>Redis</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>JSONPATH</type>
                     <params>$.Cluster.cluster_enabled</params>
                  </step>
               </preprocessing>
               <master_item>
                  <key>redis.info["{$REDIS.CONN.URI}"]</key>
               </master_item>
            </item>
            <item>
               <name>Redis: Get config</name>
               <key>redis.config["{$REDIS.CONN.URI}"]</key>
               <history>1h</history>
               <trends>0</trends>
               <value_type>TEXT</value_type>
               <applications>
                  <application>
                     <name>Zabbix raw items</name>
                  </application>
               </applications>
            </item>
            <item>
               <name>Redis: CPU sys</name>
               <type>DEPENDENT</type>
               <key>redis.cpu.sys</key>
               <delay>0</delay>
               <history>7d</history>
               <value_type>FLOAT</value_type>
               <units>s</units>
               <description>System CPU consumed by the Redis server</description>
               <applications>
                  <application>
                     <name>Redis</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>JSONPATH</type>
                     <params>$.CPU.used_cpu_sys</params>
                  </step>
               </preprocessing>
               <master_item>
                  <key>redis.info["{$REDIS.CONN.URI}"]</key>
               </master_item>
            </item>
            <item>
               <name>Redis: CPU sys children</name>
               <type>DEPENDENT</type>
               <key>redis.cpu.sys_children</key>
               <delay>0</delay>
               <history>7d</history>
               <value_type>FLOAT</value_type>
               <units>s</units>
               <description>System CPU consumed by the background processes</description>
               <applications>
                  <application>
                     <name>Redis</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>JSONPATH</type>
                     <params>$.CPU.used_cpu_sys_children</params>
                  </step>
               </preprocessing>
               <master_item>
                  <key>redis.info["{$REDIS.CONN.URI}"]</key>
               </master_item>
            </item>
            <item>
               <name>Redis: CPU user</name>
               <type>DEPENDENT</type>
               <key>redis.cpu.user</key>
               <delay>0</delay>
               <history>7d</history>
               <value_type>FLOAT</value_type>
               <units>s</units>
               <description>User CPU consumed by the Redis server</description>
               <applications>
                  <application>
                     <name>Redis</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>JSONPATH</type>
                     <params>$.CPU.used_cpu_user</params>
                  </step>
               </preprocessing>
               <master_item>
                  <key>redis.info["{$REDIS.CONN.URI}"]</key>
               </master_item>
            </item>
            <item>
               <name>Redis: CPU user children</name>
               <type>DEPENDENT</type>
               <key>redis.cpu.user_children</key>
               <delay>0</delay>
               <history>7d</history>
               <value_type>FLOAT</value_type>
               <units>s</units>
               <description>User CPU consumed by the background processes</description>
               <applications>
                  <application>
                     <name>Redis</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>JSONPATH</type>
                     <params>$.CPU.used_cpu_user_children</params>
                  </step>
               </preprocessing>
               <master_item>
                  <key>redis.info["{$REDIS.CONN.URI}"]</key>
               </master_item>
            </item>
            <item>
               <name>Redis: Get info</name>
               <key>redis.info["{$REDIS.CONN.URI}"]</key>
               <history>1h</history>
               <trends>0</trends>
               <value_type>TEXT</value_type>
               <applications>
                  <application>
                     <name>Zabbix raw items</name>
                  </application>
               </applications>
            </item>
            <item>
               <name>Redis: Memory used</name>
               <type>DEPENDENT</type>
               <key>redis.memory.used_memory</key>
               <delay>0</delay>
               <history>7d</history>
               <description>Amount of memory allocated by Redis</description>
               <applications>
                  <application>
                     <name>Redis</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>JSONPATH</type>
                     <params>$.Memory.used_memory</params>
                  </step>
               </preprocessing>
               <master_item>
                  <key>redis.info["{$REDIS.CONN.URI}"]</key>
               </master_item>
            </item>
            <item>
               <name>Redis: Memory used Lua</name>
               <type>DEPENDENT</type>
               <key>redis.memory.used_memory_lua</key>
               <delay>0</delay>
               <history>7d</history>
               <description>Amount of memory used by the Lua engine</description>
               <applications>
                  <application>
                     <name>Redis</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>JSONPATH</type>
                     <params>$.Memory.used_memory_lua</params>
                  </step>
               </preprocessing>
               <master_item>
                  <key>redis.info["{$REDIS.CONN.URI}"]</key>
               </master_item>
            </item>
            <item>
               <name>Redis: Memory used peak</name>
               <type>DEPENDENT</type>
               <key>redis.memory.used_memory_peak</key>
               <delay>0</delay>
               <history>7d</history>
               <description>The peak amount of memory used by Redis</description>
               <applications>
                  <application>
                     <name>Redis</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>JSONPATH</type>
                     <params>$.Memory.used_memory_peak</params>
                  </step>
               </preprocessing>
               <master_item>
                  <key>redis.info["{$REDIS.CONN.URI}"]</key>
               </master_item>
            </item>
            <item>
               <name>Redis: Memory used RSS</name>
               <type>DEPENDENT</type>
               <key>redis.memory.used_memory_rss</key>
               <delay>0</delay>
               <history>7d</history>
               <description>Amount of memory that Redis allocated as seen by the os</description>
               <applications>
                  <application>
                     <name>Redis</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>JSONPATH</type>
                     <params>$.Memory.used_memory_rss</params>
                  </step>
               </preprocessing>
               <master_item>
                  <key>redis.info["{$REDIS.CONN.URI}"]</key>
               </master_item>
            </item>
            <item>
               <name>Redis: AOF current rewrite time in seconds</name>
               <type>DEPENDENT</type>
               <key>redis.persistence.aof_current_rewrite_time_sec</key>
               <delay>0</delay>
               <history>7d</history>
               <value_type>FLOAT</value_type>
               <applications>
                  <application>
                     <name>Redis</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>JSONPATH</type>
                     <params>$.Persistence.aof_current_rewrite_time_sec</params>
                  </step>
               </preprocessing>
               <master_item>
                  <key>redis.info["{$REDIS.CONN.URI}"]</key>
               </master_item>
            </item>
            <item>
               <name>Redis: AOF enabled</name>
               <type>DEPENDENT</type>
               <key>redis.persistence.aof_enabled</key>
               <delay>0</delay>
               <history>7d</history>
               <applications>
                  <application>
                     <name>Redis</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>JSONPATH</type>
                     <params>$.Persistence.aof_enabled</params>
                  </step>
               </preprocessing>
               <master_item>
                  <key>redis.info["{$REDIS.CONN.URI}"]</key>
               </master_item>
            </item>
            <item>
               <name>Redis: AOF last bgrewrite status</name>
               <type>DEPENDENT</type>
               <key>redis.persistence.aof_last_bgrewrite_status</key>
               <delay>0</delay>
               <history>7d</history>
               <trends>0</trends>
               <value_type>CHAR</value_type>
               <applications>
                  <application>
                     <name>Redis</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>JSONPATH</type>
                     <params>$.Persistence.aof_last_bgrewrite_status</params>
                  </step>
                  <step>
                     <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                     <params>1d</params>
                  </step>
               </preprocessing>
               <master_item>
                  <key>redis.info["{$REDIS.CONN.URI}"]</key>
               </master_item>
            </item>
            <item>
               <name>Redis: AOF last rewrite time sec</name>
               <type>DEPENDENT</type>
               <key>redis.persistence.aof_last_rewrite_time_sec</key>
               <delay>0</delay>
               <history>7d</history>
               <value_type>FLOAT</value_type>
               <units>s</units>
               <description>Duration of the last AOF rewrite</description>
               <applications>
                  <application>
                     <name>Redis</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>JSONPATH</type>
                     <params>$.Persistence.aof_last_rewrite_time_sec</params>
                  </step>
               </preprocessing>
               <master_item>
                  <key>redis.info["{$REDIS.CONN.URI}"]</key>
               </master_item>
            </item>
            <item>
               <name>Redis: AOF last write status</name>
               <type>DEPENDENT</type>
               <key>redis.persistence.aof_last_write_status</key>
               <delay>0</delay>
               <history>7d</history>
               <trends>0</trends>
               <value_type>CHAR</value_type>
               <applications>
                  <application>
                     <name>Redis</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>JSONPATH</type>
                     <params>$.Persistence.aof_last_write_status</params>
                  </step>
                  <step>
                     <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                     <params>1d</params>
                  </step>
               </preprocessing>
               <master_item>
                  <key>redis.info["{$REDIS.CONN.URI}"]</key>
               </master_item>
            </item>
            <item>
               <name>Redis: Loading</name>
               <type>DEPENDENT</type>
               <key>redis.persistence.aof_rewrite_in_progress</key>
               <delay>0</delay>
               <history>7d</history>
               <description>Flag indicating a AOF rewrite operation is on-going</description>
               <applications>
                  <application>
                     <name>Redis</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>JSONPATH</type>
                     <params>$.Persistence.aof_rewrite_in_progress</params>
                  </step>
               </preprocessing>
               <master_item>
                  <key>redis.info["{$REDIS.CONN.URI}"]</key>
               </master_item>
            </item>
            <item>
               <name>Redis: AOF rewrite scheduled</name>
               <type>DEPENDENT</type>
               <key>redis.persistence.aof_rewrite_scheduled</key>
               <delay>0</delay>
               <history>7d</history>
               <applications>
                  <application>
                     <name>Redis</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>JSONPATH</type>
                     <params>$.Persistence.aof_rewrite_scheduled</params>
                  </step>
               </preprocessing>
               <master_item>
                  <key>redis.info["{$REDIS.CONN.URI}"]</key>
               </master_item>
            </item>
            <item>
               <name>Redis: Loading</name>
               <type>DEPENDENT</type>
               <key>redis.persistence.loading</key>
               <delay>0</delay>
               <history>7d</history>
               <applications>
                  <application>
                     <name>Redis</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>JSONPATH</type>
                     <params>$.Persistence.loading</params>
                  </step>
               </preprocessing>
               <master_item>
                  <key>redis.info["{$REDIS.CONN.URI}"]</key>
               </master_item>
            </item>
            <item>
               <name>Redis: RDB bgsave in progress</name>
               <type>DEPENDENT</type>
               <key>redis.persistence.rdb_bgsave_in_progress</key>
               <delay>0</delay>
               <history>7d</history>
               <description>One if a bgsave is in progress and zero otherwise</description>
               <applications>
                  <application>
                     <name>Redis</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>JSONPATH</type>
                     <params>$.Persistence.rdb_bgsave_in_progress</params>
                  </step>
               </preprocessing>
               <master_item>
                  <key>redis.info["{$REDIS.CONN.URI}"]</key>
               </master_item>
            </item>
            <item>
               <name>Redis: RDB changes since last save</name>
               <type>DEPENDENT</type>
               <key>redis.persistence.rdb_changes_since_last_save</key>
               <delay>0</delay>
               <history>7d</history>
               <description>The number of changes since the last background save</description>
               <applications>
                  <application>
                     <name>Redis</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>JSONPATH</type>
                     <params>$.Persistence.rdb_changes_since_last_save</params>
                  </step>
               </preprocessing>
               <master_item>
                  <key>redis.info["{$REDIS.CONN.URI}"]</key>
               </master_item>
            </item>
            <item>
               <name>Redis: RDB current bgsave time sec</name>
               <type>DEPENDENT</type>
               <key>redis.persistence.rdb_current_bgsave_time_sec</key>
               <delay>0</delay>
               <history>7d</history>
               <value_type>FLOAT</value_type>
               <applications>
                  <application>
                     <name>Redis</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>JSONPATH</type>
                     <params>$.Persistence.rdb_current_bgsave_time_sec</params>
                  </step>
               </preprocessing>
               <master_item>
                  <key>redis.info["{$REDIS.CONN.URI}"]</key>
               </master_item>
            </item>
            <item>
               <name>Redis: RDB last bgsave status</name>
               <type>DEPENDENT</type>
               <key>redis.persistence.rdb_last_bgsave_status</key>
               <delay>0</delay>
               <history>7d</history>
               <trends>0</trends>
               <value_type>CHAR</value_type>
               <applications>
                  <application>
                     <name>Redis</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>JSONPATH</type>
                     <params>$.Persistence.rdb_last_bgsave_status</params>
                  </step>
                  <step>
                     <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                     <params>1d</params>
                  </step>
               </preprocessing>
               <master_item>
                  <key>redis.info["{$REDIS.CONN.URI}"]</key>
               </master_item>
            </item>
            <item>
               <name>Redis: RDB last bgsave time in seconds</name>
               <type>DEPENDENT</type>
               <key>redis.persistence.rdb_last_bgsave_time_sec</key>
               <delay>0</delay>
               <history>7d</history>
               <value_type>FLOAT</value_type>
               <units>s</units>
               <description>Duration of the last bg_save operation</description>
               <applications>
                  <application>
                     <name>Redis</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>JSONPATH</type>
                     <params>$.Persistence.rdb_last_bgsave_time_sec</params>
                  </step>
               </preprocessing>
               <master_item>
                  <key>redis.info["{$REDIS.CONN.URI}"]</key>
               </master_item>
            </item>
            <item>
               <name>Redis: RDB last save time</name>
               <type>DEPENDENT</type>
               <key>redis.persistence.rdb_last_save_time</key>
               <delay>0</delay>
               <history>7d</history>
               <applications>
                  <application>
                     <name>Redis</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>JSONPATH</type>
                     <params>$.Persistence.rdb_last_save_time</params>
                  </step>
               </preprocessing>
               <master_item>
                  <key>redis.info["{$REDIS.CONN.URI}"]</key>
               </master_item>
            </item>
            <item>
               <name>Redis: Get ping</name>
               <key>redis.ping["{$REDIS.CONN.URI}"]</key>
               <history>1h</history>
               <trends>0</trends>
               <applications>
                  <application>
                     <name>Redis</name>
                  </application>
               </applications>
            </item>
            <item>
               <name>Redis: Connected slaves</name>
               <type>DEPENDENT</type>
               <key>redis.replication.connected_slaves</key>
               <delay>0</delay>
               <history>7d</history>
               <description>The number of connected slaves</description>
               <applications>
                  <application>
                     <name>Redis</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>JSONPATH</type>
                     <params>$.Replication.connected_slaves</params>
                  </step>
               </preprocessing>
               <master_item>
                  <key>redis.info["{$REDIS.CONN.URI}"]</key>
               </master_item>
            </item>
            <item>
               <name>Redis: Replication backlog active</name>
               <type>DEPENDENT</type>
               <key>redis.replication.repl_backlog_active</key>
               <delay>0</delay>
               <history>7d</history>
               <applications>
                  <application>
                     <name>Redis</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>JSONPATH</type>
                     <params>$.Replication.repl_backlog_active</params>
                  </step>
               </preprocessing>
               <master_item>
                  <key>redis.info["{$REDIS.CONN.URI}"]</key>
               </master_item>
            </item>
            <item>
               <name>Redis: Replication backlog first byte offset</name>
               <type>DEPENDENT</type>
               <key>redis.replication.repl_backlog_first_byte_offset</key>
               <delay>0</delay>
               <history>7d</history>
               <applications>
                  <application>
                     <name>Redis</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>JSONPATH</type>
                     <params>$.Replication.repl_backlog_first_byte_offset</params>
                  </step>
               </preprocessing>
               <master_item>
                  <key>redis.info["{$REDIS.CONN.URI}"]</key>
               </master_item>
            </item>
            <item>
               <name>Redis: Replication backlog history length</name>
               <type>DEPENDENT</type>
               <key>redis.replication.repl_backlog_histlen</key>
               <delay>0</delay>
               <history>7d</history>
               <description>The amount of data in the backlog sync buffer</description>
               <applications>
                  <application>
                     <name>Redis</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>JSONPATH</type>
                     <params>$.Replication.repl_backlog_histlen</params>
                  </step>
               </preprocessing>
               <master_item>
                  <key>redis.info["{$REDIS.CONN.URI}"]</key>
               </master_item>
            </item>
            <item>
               <name>Redis: Replication backlog size</name>
               <type>DEPENDENT</type>
               <key>redis.replication.repl_backlog_size</key>
               <delay>0</delay>
               <history>7d</history>
               <applications>
                  <application>
                     <name>Redis</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>JSONPATH</type>
                     <params>$.Replication.repl_backlog_size</params>
                  </step>
               </preprocessing>
               <master_item>
                  <key>redis.info["{$REDIS.CONN.URI}"]</key>
               </master_item>
            </item>
            <item>
               <name>Redis: Replication role</name>
               <type>DEPENDENT</type>
               <key>redis.replication.role</key>
               <delay>0</delay>
               <history>7d</history>
               <trends>0</trends>
               <value_type>CHAR</value_type>
               <applications>
                  <application>
                     <name>Redis</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>JSONPATH</type>
                     <params>$.Replication.role</params>
                  </step>
                  <step>
                     <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                     <params>1d</params>
                  </step>
               </preprocessing>
               <master_item>
                  <key>redis.info["{$REDIS.CONN.URI}"]</key>
               </master_item>
            </item>
            <item>
               <name>Redis: Arch bits</name>
               <type>DEPENDENT</type>
               <key>redis.server.arch_bits</key>
               <delay>0</delay>
               <history>7d</history>
               <applications>
                  <application>
                     <name>Redis</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>JSONPATH</type>
                     <params>$.Server.arch_bits</params>
                  </step>
                  <step>
                     <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                     <params>1d</params>
                  </step>
               </preprocessing>
               <master_item>
                  <key>redis.info["{$REDIS.CONN.URI}"]</key>
               </master_item>
            </item>
            <item>
               <name>Redis: Config file</name>
               <type>DEPENDENT</type>
               <key>redis.server.config_file</key>
               <delay>0</delay>
               <history>7d</history>
               <trends>0</trends>
               <value_type>CHAR</value_type>
               <applications>
                  <application>
                     <name>Redis</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>JSONPATH</type>
                     <params>$.Server.config_file</params>
                  </step>
                  <step>
                     <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                     <params>1d</params>
                  </step>
               </preprocessing>
               <master_item>
                  <key>redis.info["{$REDIS.CONN.URI}"]</key>
               </master_item>
            </item>
            <item>
               <name>Redis: Process id</name>
               <type>DEPENDENT</type>
               <key>redis.server.process_id</key>
               <delay>0</delay>
               <history>7d</history>
               <applications>
                  <application>
                     <name>Redis</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>JSONPATH</type>
                     <params>$.Server.process_id</params>
                  </step>
                  <step>
                     <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                     <params>1d</params>
                  </step>
               </preprocessing>
               <master_item>
                  <key>redis.info["{$REDIS.CONN.URI}"]</key>
               </master_item>
            </item>
            <item>
               <name>Redis: Redis mode</name>
               <type>DEPENDENT</type>
               <key>redis.server.redis_mode</key>
               <delay>0</delay>
               <history>7d</history>
               <trends>0</trends>
               <value_type>CHAR</value_type>
               <applications>
                  <application>
                     <name>Redis</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>JSONPATH</type>
                     <params>$.Server.redis_mode</params>
                  </step>
                  <step>
                     <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                     <params>1d</params>
                  </step>
               </preprocessing>
               <master_item>
                  <key>redis.info["{$REDIS.CONN.URI}"]</key>
               </master_item>
            </item>
            <item>
               <name>Redis: Redis version</name>
               <type>DEPENDENT</type>
               <key>redis.server.redis_version</key>
               <delay>0</delay>
               <history>7d</history>
               <trends>0</trends>
               <value_type>CHAR</value_type>
               <applications>
                  <application>
                     <name>Redis</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>JSONPATH</type>
                     <params>$.Server.redis_version</params>
                  </step>
                  <step>
                     <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                     <params>1d</params>
                  </step>
               </preprocessing>
               <master_item>
                  <key>redis.info["{$REDIS.CONN.URI}"]</key>
               </master_item>
            </item>
            <item>
               <name>Redis: TCP port</name>
               <type>DEPENDENT</type>
               <key>redis.server.tcp_port</key>
               <delay>0</delay>
               <history>7d</history>
               <applications>
                  <application>
                     <name>Redis</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>JSONPATH</type>
                     <params>$.Server.tcp_port</params>
                  </step>
                  <step>
                     <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                     <params>1d</params>
                  </step>
               </preprocessing>
               <master_item>
                  <key>redis.info["{$REDIS.CONN.URI}"]</key>
               </master_item>
            </item>
            <item>
               <name>Redis: Uptime in days</name>
               <type>DEPENDENT</type>
               <key>redis.server.uptime_in_days</key>
               <delay>0</delay>
               <history>7d</history>
               <applications>
                  <application>
                     <name>Redis</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>JSONPATH</type>
                     <params>$.Server.uptime_in_days</params>
                  </step>
               </preprocessing>
               <master_item>
                  <key>redis.info["{$REDIS.CONN.URI}"]</key>
               </master_item>
            </item>
            <item>
               <name>Redis: Uptime in seconds</name>
               <type>DEPENDENT</type>
               <key>redis.server.uptime_in_seconds</key>
               <delay>0</delay>
               <history>7d</history>
               <applications>
                  <application>
                     <name>Redis</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>JSONPATH</type>
                     <params>$.Server.uptime_in_seconds</params>
                  </step>
               </preprocessing>
               <master_item>
                  <key>redis.info["{$REDIS.CONN.URI}"]</key>
               </master_item>
            </item>
            <item>
               <name>Redis: Evicted keys</name>
               <type>DEPENDENT</type>
               <key>redis.stats.evicted_keys</key>
               <delay>0</delay>
               <history>7d</history>
               <description>The total number of keys evicted due to the maxmemory limit</description>
               <applications>
                  <application>
                     <name>Redis</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>JSONPATH</type>
                     <params>$.Stats.evicted_keys</params>
                  </step>
               </preprocessing>
               <master_item>
                  <key>redis.info["{$REDIS.CONN.URI}"]</key>
               </master_item>
            </item>
            <item>
               <name>Redis: Expired keys</name>
               <type>DEPENDENT</type>
               <key>redis.stats.expired_keys</key>
               <delay>0</delay>
               <history>7d</history>
               <description>The total number of keys expired from the db</description>
               <applications>
                  <application>
                     <name>Redis</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>JSONPATH</type>
                     <params>$.Stats.expired_keys</params>
                  </step>
               </preprocessing>
               <master_item>
                  <key>redis.info["{$REDIS.CONN.URI}"]</key>
               </master_item>
            </item>
            <item>
               <name>Redis: Expired time cap reached count</name>
               <type>DEPENDENT</type>
               <key>redis.stats.expired_time_cap_reached_count</key>
               <delay>0</delay>
               <history>7d</history>
               <value_type>FLOAT</value_type>
               <applications>
                  <application>
                     <name>Redis</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>JSONPATH</type>
                     <params>$.Stats.expired_time_cap_reached_count</params>
                  </step>
               </preprocessing>
               <master_item>
                  <key>redis.info["{$REDIS.CONN.URI}"]</key>
               </master_item>
            </item>
            <item>
               <name>Redis: Instantaneous input bytes per second</name>
               <type>DEPENDENT</type>
               <key>redis.stats.instantaneous_input.rate</key>
               <delay>0</delay>
               <history>7d</history>
               <value_type>FLOAT</value_type>
               <units>Bps</units>
               <applications>
                  <application>
                     <name>Redis</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>JSONPATH</type>
                     <params>$.Stats.instantaneous_input_kbps</params>
                  </step>
                  <step>
                     <type>MULTIPLIER</type>
                     <params>1024</params>
                  </step>
               </preprocessing>
               <master_item>
                  <key>redis.info["{$REDIS.CONN.URI}"]</key>
               </master_item>
            </item>
            <item>
               <name>Redis: Instantaneous operations per sec</name>
               <type>DEPENDENT</type>
               <key>redis.stats.instantaneous_ops.rate</key>
               <delay>0</delay>
               <history>7d</history>
               <description>The number of commands processed by the server per second</description>
               <applications>
                  <application>
                     <name>Redis</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>JSONPATH</type>
                     <params>$.Stats.instantaneous_ops_per_sec</params>
                  </step>
               </preprocessing>
               <master_item>
                  <key>redis.info["{$REDIS.CONN.URI}"]</key>
               </master_item>
            </item>
            <item>
               <name>Redis: Instantaneous output bytes per second</name>
               <type>DEPENDENT</type>
               <key>redis.stats.instantaneous_output.rate</key>
               <delay>0</delay>
               <history>7d</history>
               <value_type>FLOAT</value_type>
               <units>Bps</units>
               <applications>
                  <application>
                     <name>Redis</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>JSONPATH</type>
                     <params>$.Stats.instantaneous_output_kbps</params>
                  </step>
                  <step>
                     <type>MULTIPLIER</type>
                     <params>1024</params>
                  </step>
               </preprocessing>
               <master_item>
                  <key>redis.info["{$REDIS.CONN.URI}"]</key>
               </master_item>
            </item>
            <item>
               <name>Redis: Keyspace hits</name>
               <type>DEPENDENT</type>
               <key>redis.stats.keyspace_hits</key>
               <delay>0</delay>
               <history>7d</history>
               <description>The total number of successful lookups in the main db</description>
               <applications>
                  <application>
                     <name>Redis</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>JSONPATH</type>
                     <params>$.Stats.keyspace_hits</params>
                  </step>
               </preprocessing>
               <master_item>
                  <key>redis.info["{$REDIS.CONN.URI}"]</key>
               </master_item>
            </item>
            <item>
               <name>Redis: Keyspace misses</name>
               <type>DEPENDENT</type>
               <key>redis.stats.keyspace_misses</key>
               <delay>0</delay>
               <history>7d</history>
               <description>The total number of missed lookups in the main db</description>
               <applications>
                  <application>
                     <name>Redis</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>JSONPATH</type>
                     <params>$.Stats.keyspace_misses</params>
                  </step>
               </preprocessing>
               <master_item>
                  <key>redis.info["{$REDIS.CONN.URI}"]</key>
               </master_item>
            </item>
            <item>
               <name>Redis: Latest fork usec</name>
               <type>DEPENDENT</type>
               <key>redis.stats.latest_fork_usec</key>
               <delay>0</delay>
               <history>7d</history>
               <units>s</units>
               <description>The duration of the latest fork</description>
               <applications>
                  <application>
                     <name>Redis</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>JSONPATH</type>
                     <params>$.Stats.latest_fork_usec</params>
                  </step>
                  <step>
                     <type>MULTIPLIER</type>
                     <params>1.0E-5</params>
                  </step>
               </preprocessing>
               <master_item>
                  <key>redis.info["{$REDIS.CONN.URI}"]</key>
               </master_item>
            </item>
            <item>
               <name>Redis: Migrate cached sockets</name>
               <type>DEPENDENT</type>
               <key>redis.stats.migrate_cached_sockets</key>
               <delay>0</delay>
               <history>7d</history>
               <applications>
                  <application>
                     <name>Redis</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>JSONPATH</type>
                     <params>$.Stats.migrate_cached_sockets</params>
                  </step>
               </preprocessing>
               <master_item>
                  <key>redis.info["{$REDIS.CONN.URI}"]</key>
               </master_item>
            </item>
            <item>
               <name>Redis: Pubsub channels</name>
               <type>DEPENDENT</type>
               <key>redis.stats.pubsub_channels</key>
               <delay>0</delay>
               <history>7d</history>
               <description>The number of active pubsub channels</description>
               <applications>
                  <application>
                     <name>Redis</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>JSONPATH</type>
                     <params>$.Stats.pubsub_channels</params>
                  </step>
               </preprocessing>
               <master_item>
                  <key>redis.info["{$REDIS.CONN.URI}"]</key>
               </master_item>
            </item>
            <item>
               <name>Redis: Pubsub patterns</name>
               <type>DEPENDENT</type>
               <key>redis.stats.pubsub_patterns</key>
               <delay>0</delay>
               <history>7d</history>
               <description>The number of active pubsub patterns</description>
               <applications>
                  <application>
                     <name>Redis</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>JSONPATH</type>
                     <params>$.Stats.pubsub_patterns</params>
                  </step>
               </preprocessing>
               <master_item>
                  <key>redis.info["{$REDIS.CONN.URI}"]</key>
               </master_item>
            </item>
            <item>
               <name>Redis: Rejected connections</name>
               <type>DEPENDENT</type>
               <key>redis.stats.rejected_connections</key>
               <delay>0</delay>
               <history>7d</history>
               <description>The number of rejected connections</description>
               <applications>
                  <application>
                     <name>Redis</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>JSONPATH</type>
                     <params>$.Stats.rejected_connections</params>
                  </step>
               </preprocessing>
               <master_item>
                  <key>redis.info["{$REDIS.CONN.URI}"]</key>
               </master_item>
            </item>
            <item>
               <name>Redis: Sync full</name>
               <type>DEPENDENT</type>
               <key>redis.stats.sync_full</key>
               <delay>0</delay>
               <history>7d</history>
               <applications>
                  <application>
                     <name>Redis</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>JSONPATH</type>
                     <params>$.Stats.sync_full</params>
                  </step>
               </preprocessing>
               <master_item>
                  <key>redis.info["{$REDIS.CONN.URI}"]</key>
               </master_item>
            </item>
            <item>
               <name>Redis: Sync partial err</name>
               <type>DEPENDENT</type>
               <key>redis.stats.sync_partial_err</key>
               <delay>0</delay>
               <history>7d</history>
               <applications>
                  <application>
                     <name>Redis</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>JSONPATH</type>
                     <params>$.Stats.sync_partial_err</params>
                  </step>
               </preprocessing>
               <master_item>
                  <key>redis.info["{$REDIS.CONN.URI}"]</key>
               </master_item>
            </item>
            <item>
               <name>Redis: Sync partial ok</name>
               <type>DEPENDENT</type>
               <key>redis.stats.sync_partial_ok</key>
               <delay>0</delay>
               <history>7d</history>
               <applications>
                  <application>
                     <name>Redis</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>JSONPATH</type>
                     <params>$.Stats.sync_partial_ok</params>
                  </step>
               </preprocessing>
               <master_item>
                  <key>redis.info["{$REDIS.CONN.URI}"]</key>
               </master_item>
            </item>
            <item>
               <name>Redis: Total commands processed</name>
               <type>DEPENDENT</type>
               <key>redis.stats.total_commands_processed</key>
               <delay>0</delay>
               <history>7d</history>
               <description>The number of commands processed by the server</description>
               <applications>
                  <application>
                     <name>Redis</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>JSONPATH</type>
                     <params>$.Stats.total_commands_processed</params>
                  </step>
               </preprocessing>
               <master_item>
                  <key>redis.info["{$REDIS.CONN.URI}"]</key>
               </master_item>
            </item>
            <item>
               <name>Redis: Total connections received</name>
               <type>DEPENDENT</type>
               <key>redis.stats.total_connections_received</key>
               <delay>0</delay>
               <history>7d</history>
               <applications>
                  <application>
                     <name>Redis</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>JSONPATH</type>
                     <params>$.Stats.total_connections_received</params>
                  </step>
               </preprocessing>
               <master_item>
                  <key>redis.info["{$REDIS.CONN.URI}"]</key>
               </master_item>
            </item>
            <item>
               <name>Redis: Total net input bytes</name>
               <type>DEPENDENT</type>
               <key>redis.stats.total_net_input_bytes</key>
               <delay>0</delay>
               <history>7d</history>
               <applications>
                  <application>
                     <name>Redis</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>JSONPATH</type>
                     <params>$.Stats.total_net_input_bytes</params>
                  </step>
               </preprocessing>
               <master_item>
                  <key>redis.info["{$REDIS.CONN.URI}"]</key>
               </master_item>
            </item>
            <item>
               <name>Redis: Total net output bytes</name>
               <type>DEPENDENT</type>
               <key>redis.stats.total_net_output_bytes</key>
               <delay>0</delay>
               <history>7d</history>
               <applications>
                  <application>
                     <name>Redis</name>
                  </application>
               </applications>
               <preprocessing>
                  <step>
                     <type>JSONPATH</type>
                     <params>$.Stats.total_net_output_bytes</params>
                  </step>
               </preprocessing>
               <master_item>
                  <key>redis.info["{$REDIS.CONN.URI}"]</key>
               </master_item>
            </item>
         </items>
         <discovery_rules>
            <discovery_rule>
               <name>Process metrics discovery</name>
               <type>ZABBIX_PASSIVE</type>
               <key>proc.num["{$REDIS.LLD.PROCESS_NAME}"]</key>
               <delay>1h</delay>
               <description>Collect metrics by Zabbix agent if it exists</description>
               <item_prototypes>
                  <item_prototype>
                     <name>Redis: CPU utilization</name>
                     <key>proc.cpu.util["{$REDIS.PROCESS_NAME}{#SINGLETON}"]</key>
                     <history>7d</history>
                     <value_type>FLOAT</value_type>
                     <units>%</units>
                     <description>Process CPU utilization percentage.</description>
                     <applications>
                        <application>
                           <name>Redis</name>
                        </application>
                     </applications>
                  </item_prototype>
                  <item_prototype>
                     <name>Redis: Memory usage (rss)</name>
                     <key>proc.mem["{$REDIS.PROCESS_NAME}{#SINGLETON}",,,,rss]</key>
                     <history>7d</history>
                     <units>B</units>
                     <description>Resident set size memory used by process in bytes.</description>
                     <applications>
                        <application>
                           <name>Redis</name>
                        </application>
                     </applications>
                  </item_prototype>
                  <item_prototype>
                     <name>Redis: Memory usage (vsize)</name>
                     <key>proc.mem["{$REDIS.PROCESS_NAME}{#SINGLETON}",,,,vsize]</key>
                     <history>7d</history>
                     <units>B</units>
                     <description>Virtual memory size used by process in bytes.</description>
                     <applications>
                        <application>
                           <name>Redis</name>
                        </application>
                     </applications>
                  </item_prototype>
                  <item_prototype>
                     <name>Redis: Number of processes running</name>
                     <key>proc.num["{$REDIS.PROCESS_NAME}{#SINGLETON}"]</key>
                     <history>7d</history>
                     <applications>
                        <application>
                           <name>Redis</name>
                        </application>
                     </applications>
                     <trigger_prototypes>
                        <trigger_prototype>
                           <expression>{last()}=0</expression>
                           <name>Redis: Process is not running</name>
                           <priority>HIGH</priority>
                        </trigger_prototype>
                     </trigger_prototypes>
                  </item_prototype>
               </item_prototypes>
               <graph_prototypes>
                  <graph_prototype>
                     <name>Redis: Memory usage{#SINGLETON}</name>
                     <graph_items>
                        <graph_item>
                           <color>1A7C11</color>
                           <item>
                              <host>Template DB Redis</host>
                              <key>proc.mem["{$REDIS.PROCESS_NAME}{#SINGLETON}",,,,vsize]</key>
                           </item>
                        </graph_item>
                        <graph_item>
                           <sortorder>1</sortorder>
                           <color>2774A4</color>
                           <item>
                              <host>Template DB Redis</host>
                              <key>proc.mem["{$REDIS.PROCESS_NAME}{#SINGLETON}",,,,rss]</key>
                           </item>
                        </graph_item>
                     </graph_items>
                  </graph_prototype>
               </graph_prototypes>
               <preprocessing>
                  <step>
                     <type>JAVASCRIPT</type>
                     <params>return JSON.stringify(value &gt; 0 ? [{'{#SINGLETON}': ''}] : []);</params>
                  </step>
               </preprocessing>
            </discovery_rule>
            <discovery_rule>
               <name>Keyspace discovery</name>
               <type>DEPENDENT</type>
               <key>redis.keyspace.discovery</key>
               <delay>0</delay>
               <filter>
                  <evaltype>AND</evaltype>
                  <conditions>
                     <condition>
                        <macro>{#DB}</macro>
                        <value>{$REDIS.LLD.FILTER.DB.MATCHES}</value>
                        <formulaid>A</formulaid>
                     </condition>
                     <condition>
                        <macro>{#DB}</macro>
                        <value>{$REDIS.LLD.FILTER.DB.NOT_MATCHES}</value>
                        <operator>NOT_MATCHES_REGEX</operator>
                        <formulaid>B</formulaid>
                     </condition>
                  </conditions>
               </filter>
               <description>Individual keyspace metrics</description>
               <item_prototypes>
                  <item_prototype>
                     <name>Redis: DB {#DB}: Average TTL</name>
                     <type>DEPENDENT</type>
                     <key>redis.db.avg_ttl["{#DB}"]</key>
                     <delay>0</delay>
                     <history>7d</history>
                     <applications>
                        <application>
                           <name>Redis</name>
                        </application>
                     </applications>
                     <preprocessing>
                        <step>
                           <type>JSONPATH</type>
                           <params>$.Keyspace["{#DB}"].avg_ttl</params>
                        </step>
                     </preprocessing>
                     <master_item>
                        <key>redis.info["{$REDIS.CONN.URI}"]</key>
                     </master_item>
                  </item_prototype>
                  <item_prototype>
                     <name>Redis: DB {#DB}: Expires</name>
                     <type>DEPENDENT</type>
                     <key>redis.db.expires["{#DB}"]</key>
                     <delay>0</delay>
                     <history>7d</history>
                     <description>The number of keys with an expiration</description>
                     <applications>
                        <application>
                           <name>Redis</name>
                        </application>
                     </applications>
                     <preprocessing>
                        <step>
                           <type>JSONPATH</type>
                           <params>$.Keyspace["{#DB}"].expires</params>
                        </step>
                     </preprocessing>
                     <master_item>
                        <key>redis.info["{$REDIS.CONN.URI}"]</key>
                     </master_item>
                  </item_prototype>
                  <item_prototype>
                     <name>Redis: DB {#DB}: Keys</name>
                     <type>DEPENDENT</type>
                     <key>redis.db.keys["{#DB}"]</key>
                     <delay>0</delay>
                     <history>7d</history>
                     <applications>
                        <application>
                           <name>Redis</name>
                        </application>
                     </applications>
                     <preprocessing>
                        <step>
                           <type>JSONPATH</type>
                           <params>$.Keyspace["{#DB}"].keys</params>
                        </step>
                     </preprocessing>
                     <master_item>
                        <key>redis.info["{$REDIS.CONN.URI}"]</key>
                     </master_item>
                  </item_prototype>
               </item_prototypes>
               <master_item>
                  <key>redis.info["{$REDIS.CONN.URI}"]</key>
               </master_item>
               <preprocessing>
                  <step>
                     <type>JAVASCRIPT</type>
                     <params>return JSON.stringify(Object.keys(JSON.parse(value).Keyspace).map(function (v){return {"{#DB}": v}}));</params>
                  </step>
               </preprocessing>
            </discovery_rule>
            <discovery_rule>
               <name>Old metrics discovery</name>
               <type>DEPENDENT</type>
               <key>redis.metrics.old.discovery</key>
               <delay>0</delay>
               <description>Metrics for Redis version below 5</description>
               <item_prototypes>
                  <item_prototype>
                     <name>Redis: Max input buffer</name>
                     <type>DEPENDENT</type>
                     <key>redis.clients.client_biggest_input_buf</key>
                     <delay>0</delay>
                     <history>7d</history>
                     <description>The biggest input buffer among current client connections</description>
                     <applications>
                        <application>
                           <name>Redis</name>
                        </application>
                     </applications>
                     <preprocessing>
                        <step>
                           <type>JSONPATH</type>
                           <params>$.Clients.client_biggest_input_buf</params>
                        </step>
                     </preprocessing>
                     <master_item>
                        <key>redis.info["{$REDIS.CONN.URI}"]</key>
                     </master_item>
                  </item_prototype>
                  <item_prototype>
                     <name>Redis: Max output buffer</name>
                     <type>DEPENDENT</type>
                     <key>redis.clients.client_longest_output_list</key>
                     <delay>0</delay>
                     <history>7d</history>
                     <description>The longest output list among current client connections</description>
                     <applications>
                        <application>
                           <name>Redis</name>
                        </application>
                     </applications>
                     <preprocessing>
                        <step>
                           <type>JSONPATH</type>
                           <params>$.Clients.client_longest_output_list</params>
                        </step>
                     </preprocessing>
                     <master_item>
                        <key>redis.info["{$REDIS.CONN.URI}"]</key>
                     </master_item>
                  </item_prototype>
               </item_prototypes>
               <master_item>
                  <key>redis.info["{$REDIS.CONN.URI}"]</key>
               </master_item>
               <preprocessing>
                  <step>
                     <type>JSONPATH</type>
                     <params>$.Server.redis_version</params>
                  </step>
                  <step>
                     <type>JAVASCRIPT</type>
                     <params>return JSON.stringify(parseInt(value.split('.')[0]) &lt; 5 ? [{'{#SINGLETON}': ''}] : []);</params>
                  </step>
               </preprocessing>
            </discovery_rule>
            <discovery_rule>
               <name>Version 4+ metrics discovery</name>
               <type>DEPENDENT</type>
               <key>redis.metrics.v4.discovery</key>
               <delay>0</delay>
               <description>Additional metrics for version 4+</description>
               <item_prototypes>
                  <item_prototype>
                     <name>Redis: Active defrag running{#SINGLETON}</name>
                     <type>DEPENDENT</type>
                     <key>redis.memory.active_defrag_running[{#SINGLETON}]</key>
                     <delay>0</delay>
                     <history>7d</history>
                     <applications>
                        <application>
                           <name>Redis</name>
                        </application>
                     </applications>
                     <preprocessing>
                        <step>
                           <type>JSONPATH</type>
                           <params>$.Memory.active_defrag_running</params>
                        </step>
                     </preprocessing>
                     <master_item>
                        <key>redis.info["{$REDIS.CONN.URI}"]</key>
                     </master_item>
                  </item_prototype>
                  <item_prototype>
                     <name>Redis: Lazyfree pending objects{#SINGLETON}</name>
                     <type>DEPENDENT</type>
                     <key>redis.memory.lazyfree_pending_objects[{#SINGLETON}]</key>
                     <delay>0</delay>
                     <history>7d</history>
                     <applications>
                        <application>
                           <name>Redis</name>
                        </application>
                     </applications>
                     <preprocessing>
                        <step>
                           <type>JSONPATH</type>
                           <params>$.Memory.lazyfree_pending_objects</params>
                        </step>
                     </preprocessing>
                     <master_item>
                        <key>redis.info["{$REDIS.CONN.URI}"]</key>
                     </master_item>
                  </item_prototype>
                  <item_prototype>
                     <name>Redis: Max memory policy{#SINGLETON}</name>
                     <type>DEPENDENT</type>
                     <key>redis.memory.maxmemory_policy[{#SINGLETON}]</key>
                     <delay>0</delay>
                     <history>7d</history>
                     <trends>0</trends>
                     <value_type>CHAR</value_type>
                     <applications>
                        <application>
                           <name>Redis</name>
                        </application>
                     </applications>
                     <preprocessing>
                        <step>
                           <type>JSONPATH</type>
                           <params>$.Memory.maxmemory_policy</params>
                        </step>
                        <step>
                           <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                           <params>1d</params>
                        </step>
                     </preprocessing>
                     <master_item>
                        <key>redis.info["{$REDIS.CONN.URI}"]</key>
                     </master_item>
                  </item_prototype>
                  <item_prototype>
                     <name>Redis: Max memory{#SINGLETON}</name>
                     <type>DEPENDENT</type>
                     <key>redis.memory.maxmemory[{#SINGLETON}]</key>
                     <delay>0</delay>
                     <history>7d</history>
                     <description>Maximum amount of memory allocated to the Redisdb system</description>
                     <applications>
                        <application>
                           <name>Redis</name>
                        </application>
                     </applications>
                     <preprocessing>
                        <step>
                           <type>JSONPATH</type>
                           <params>$.Memory.maxmemory</params>
                        </step>
                     </preprocessing>
                     <master_item>
                        <key>redis.info["{$REDIS.CONN.URI}"]</key>
                     </master_item>
                  </item_prototype>
                  <item_prototype>
                     <name>Redis: Total system memory{#SINGLETON}</name>
                     <type>DEPENDENT</type>
                     <key>redis.memory.total_system_memory[{#SINGLETON}]</key>
                     <delay>0</delay>
                     <history>7d</history>
                     <applications>
                        <application>
                           <name>Redis</name>
                        </application>
                     </applications>
                     <preprocessing>
                        <step>
                           <type>JSONPATH</type>
                           <params>$.Memory.total_system_memory</params>
                        </step>
                     </preprocessing>
                     <master_item>
                        <key>redis.info["{$REDIS.CONN.URI}"]</key>
                     </master_item>
                  </item_prototype>
                  <item_prototype>
                     <name>Redis: Memory used dataset %{#SINGLETON}</name>
                     <type>DEPENDENT</type>
                     <key>redis.memory.used_memory_dataset_perc[{#SINGLETON}]</key>
                     <delay>0</delay>
                     <history>7d</history>
                     <value_type>FLOAT</value_type>
                     <applications>
                        <application>
                           <name>Redis</name>
                        </application>
                     </applications>
                     <preprocessing>
                        <step>
                           <type>JSONPATH</type>
                           <params>$.Memory.used_memory_dataset_perc</params>
                        </step>
                        <step>
                           <type>REGEX</type>
                           <params>(.+)%
\1</params>
                        </step>
                     </preprocessing>
                     <master_item>
                        <key>redis.info["{$REDIS.CONN.URI}"]</key>
                     </master_item>
                  </item_prototype>
                  <item_prototype>
                     <name>Redis: Memory used dataset{#SINGLETON}</name>
                     <type>DEPENDENT</type>
                     <key>redis.memory.used_memory_dataset[{#SINGLETON}]</key>
                     <delay>0</delay>
                     <history>7d</history>
                     <applications>
                        <application>
                           <name>Redis</name>
                        </application>
                     </applications>
                     <preprocessing>
                        <step>
                           <type>JSONPATH</type>
                           <params>$.Memory.used_memory_dataset</params>
                        </step>
                     </preprocessing>
                     <master_item>
                        <key>redis.info["{$REDIS.CONN.URI}"]</key>
                     </master_item>
                  </item_prototype>
                  <item_prototype>
                     <name>Redis: Memory used overhead{#SINGLETON}</name>
                     <type>DEPENDENT</type>
                     <key>redis.memory.used_memory_overhead[{#SINGLETON}]</key>
                     <delay>0</delay>
                     <history>7d</history>
                     <description>Sum of all overheads allocated by Redis for managing its internal datastructures</description>
                     <applications>
                        <application>
                           <name>Redis</name>
                        </application>
                     </applications>
                     <preprocessing>
                        <step>
                           <type>JSONPATH</type>
                           <params>$.Memory.used_memory_overhead</params>
                        </step>
                     </preprocessing>
                     <master_item>
                        <key>redis.info["{$REDIS.CONN.URI}"]</key>
                     </master_item>
                  </item_prototype>
                  <item_prototype>
                     <name>Redis: Memory used peak %{#SINGLETON}</name>
                     <type>DEPENDENT</type>
                     <key>redis.memory.used_memory_peak_perc[{#SINGLETON}]</key>
                     <delay>0</delay>
                     <history>7d</history>
                     <value_type>FLOAT</value_type>
                     <applications>
                        <application>
                           <name>Redis</name>
                        </application>
                     </applications>
                     <preprocessing>
                        <step>
                           <type>JSONPATH</type>
                           <params>$.Memory.used_memory_peak_perc</params>
                        </step>
                        <step>
                           <type>REGEX</type>
                           <params>(.+)%
\1</params>
                        </step>
                     </preprocessing>
                     <master_item>
                        <key>redis.info["{$REDIS.CONN.URI}"]</key>
                     </master_item>
                  </item_prototype>
                  <item_prototype>
                     <name>Redis: Memory used startup{#SINGLETON}</name>
                     <type>DEPENDENT</type>
                     <key>redis.memory.used_memory_startup[{#SINGLETON}]</key>
                     <delay>0</delay>
                     <history>7d</history>
                     <description>Amount of memory consumed by Redis at startup</description>
                     <applications>
                        <application>
                           <name>Redis</name>
                        </application>
                     </applications>
                     <preprocessing>
                        <step>
                           <type>JSONPATH</type>
                           <params>$.Memory.used_memory_startup</params>
                        </step>
                     </preprocessing>
                     <master_item>
                        <key>redis.info["{$REDIS.CONN.URI}"]</key>
                     </master_item>
                  </item_prototype>
                  <item_prototype>
                     <name>Redis: AOF last cow size{#SINGLETON}</name>
                     <type>DEPENDENT</type>
                     <key>redis.persistence.aof_last_cow_size[{#SINGLETON}]</key>
                     <delay>0</delay>
                     <history>7d</history>
                     <applications>
                        <application>
                           <name>Redis</name>
                        </application>
                     </applications>
                     <preprocessing>
                        <step>
                           <type>JSONPATH</type>
                           <params>$.Persistence.aof_last_cow_size</params>
                        </step>
                     </preprocessing>
                     <master_item>
                        <key>redis.info["{$REDIS.CONN.URI}"]</key>
                     </master_item>
                  </item_prototype>
                  <item_prototype>
                     <name>Redis: RDB last cow size{#SINGLETON}</name>
                     <type>DEPENDENT</type>
                     <key>redis.persistence.rdb_last_cow_size[{#SINGLETON}]</key>
                     <delay>0</delay>
                     <history>7d</history>
                     <applications>
                        <application>
                           <name>Redis</name>
                        </application>
                     </applications>
                     <preprocessing>
                        <step>
                           <type>JSONPATH</type>
                           <params>$.Persistence.rdb_last_cow_size</params>
                        </step>
                     </preprocessing>
                     <master_item>
                        <key>redis.info["{$REDIS.CONN.URI}"]</key>
                     </master_item>
                  </item_prototype>
                  <item_prototype>
                     <name>Redis: Master replication offset{#SINGLETON}</name>
                     <type>DEPENDENT</type>
                     <key>redis.replication.master_repl_offset[{#SINGLETON}]</key>
                     <delay>0</delay>
                     <history>7d</history>
                     <description>The replication offset reported by the master</description>
                     <applications>
                        <application>
                           <name>Redis</name>
                        </application>
                     </applications>
                     <preprocessing>
                        <step>
                           <type>JSONPATH</type>
                           <params>$.Replication.master_repl_offset</params>
                        </step>
                     </preprocessing>
                     <master_item>
                        <key>redis.info["{$REDIS.CONN.URI}"]</key>
                     </master_item>
                  </item_prototype>
                  <item_prototype>
                     <name>Redis: Master replication id{#SINGLETON}</name>
                     <type>DEPENDENT</type>
                     <key>redis.replication.master_replid[{#SINGLETON}]</key>
                     <delay>0</delay>
                     <history>7d</history>
                     <trends>0</trends>
                     <value_type>CHAR</value_type>
                     <applications>
                        <application>
                           <name>Redis</name>
                        </application>
                     </applications>
                     <preprocessing>
                        <step>
                           <type>JSONPATH</type>
                           <params>$.Replication.master_replid</params>
                        </step>
                        <step>
                           <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                           <params>1d</params>
                        </step>
                     </preprocessing>
                     <master_item>
                        <key>redis.info["{$REDIS.CONN.URI}"]</key>
                     </master_item>
                  </item_prototype>
                  <item_prototype>
                     <name>Redis: Master replication id 2{#SINGLETON}</name>
                     <type>DEPENDENT</type>
                     <key>redis.replication.master_replid2[{#SINGLETON}]</key>
                     <delay>0</delay>
                     <history>7d</history>
                     <trends>0</trends>
                     <value_type>CHAR</value_type>
                     <applications>
                        <application>
                           <name>Redis</name>
                        </application>
                     </applications>
                     <preprocessing>
                        <step>
                           <type>JSONPATH</type>
                           <params>$.Replication.master_replid2</params>
                        </step>
                        <step>
                           <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                           <params>1d</params>
                        </step>
                     </preprocessing>
                     <master_item>
                        <key>redis.info["{$REDIS.CONN.URI}"]</key>
                     </master_item>
                  </item_prototype>
                  <item_prototype>
                     <name>Redis: Replication second offset{#SINGLETON}</name>
                     <type>DEPENDENT</type>
                     <key>redis.replication.second_repl_offset[{#SINGLETON}]</key>
                     <delay>0</delay>
                     <history>7d</history>
                     <value_type>FLOAT</value_type>
                     <description>The replication offset reported by the slave</description>
                     <applications>
                        <application>
                           <name>Redis</name>
                        </application>
                     </applications>
                     <preprocessing>
                        <step>
                           <type>JSONPATH</type>
                           <params>$.Replication.second_repl_offset</params>
                        </step>
                     </preprocessing>
                     <master_item>
                        <key>redis.info["{$REDIS.CONN.URI}"]</key>
                     </master_item>
                  </item_prototype>
                  <item_prototype>
                     <name>Redis: Executable path{#SINGLETON}</name>
                     <type>DEPENDENT</type>
                     <key>redis.server.executable[{#SINGLETON}]</key>
                     <delay>0</delay>
                     <history>7d</history>
                     <trends>0</trends>
                     <value_type>CHAR</value_type>
                     <applications>
                        <application>
                           <name>Redis</name>
                        </application>
                     </applications>
                     <preprocessing>
                        <step>
                           <type>JSONPATH</type>
                           <params>$.Server.executable</params>
                        </step>
                        <step>
                           <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                           <params>1d</params>
                        </step>
                     </preprocessing>
                     <master_item>
                        <key>redis.info["{$REDIS.CONN.URI}"]</key>
                     </master_item>
                  </item_prototype>
                  <item_prototype>
                     <name>Redis: Active defrag hits{#SINGLETON}</name>
                     <type>DEPENDENT</type>
                     <key>redis.stats.active_defrag_hits[{#SINGLETON}]</key>
                     <delay>0</delay>
                     <history>7d</history>
                     <applications>
                        <application>
                           <name>Redis</name>
                        </application>
                     </applications>
                     <preprocessing>
                        <step>
                           <type>JSONPATH</type>
                           <params>$.Stats.active_defrag_hits</params>
                        </step>
                     </preprocessing>
                     <master_item>
                        <key>redis.info["{$REDIS.CONN.URI}"]</key>
                     </master_item>
                  </item_prototype>
                  <item_prototype>
                     <name>Redis: Active defrag key hits{#SINGLETON}</name>
                     <type>DEPENDENT</type>
                     <key>redis.stats.active_defrag_key_hits[{#SINGLETON}]</key>
                     <delay>0</delay>
                     <history>7d</history>
                     <applications>
                        <application>
                           <name>Redis</name>
                        </application>
                     </applications>
                     <preprocessing>
                        <step>
                           <type>JSONPATH</type>
                           <params>$.Stats.active_defrag_key_hits</params>
                        </step>
                     </preprocessing>
                     <master_item>
                        <key>redis.info["{$REDIS.CONN.URI}"]</key>
                     </master_item>
                  </item_prototype>
                  <item_prototype>
                     <name>Redis: Active defrag key misses{#SINGLETON}</name>
                     <type>DEPENDENT</type>
                     <key>redis.stats.active_defrag_key_misses[{#SINGLETON}]</key>
                     <delay>0</delay>
                     <history>7d</history>
                     <applications>
                        <application>
                           <name>Redis</name>
                        </application>
                     </applications>
                     <preprocessing>
                        <step>
                           <type>JSONPATH</type>
                           <params>$.Stats.active_defrag_key_misses</params>
                        </step>
                     </preprocessing>
                     <master_item>
                        <key>redis.info["{$REDIS.CONN.URI}"]</key>
                     </master_item>
                  </item_prototype>
                  <item_prototype>
                     <name>Redis: Active defrag misses{#SINGLETON}</name>
                     <type>DEPENDENT</type>
                     <key>redis.stats.active_defrag_misses[{#SINGLETON}]</key>
                     <delay>0</delay>
                     <history>7d</history>
                     <applications>
                        <application>
                           <name>Redis</name>
                        </application>
                     </applications>
                     <preprocessing>
                        <step>
                           <type>JSONPATH</type>
                           <params>$.Stats.active_defrag_misses</params>
                        </step>
                     </preprocessing>
                     <master_item>
                        <key>redis.info["{$REDIS.CONN.URI}"]</key>
                     </master_item>
                  </item_prototype>
                  <item_prototype>
                     <name>Redis: Expired stale %{#SINGLETON}</name>
                     <type>DEPENDENT</type>
                     <key>redis.stats.expired_stale_perc[{#SINGLETON}]</key>
                     <delay>0</delay>
                     <history>7d</history>
                     <value_type>FLOAT</value_type>
                     <applications>
                        <application>
                           <name>Redis</name>
                        </application>
                     </applications>
                     <preprocessing>
                        <step>
                           <type>JSONPATH</type>
                           <params>$.Stats.expired_stale_perc</params>
                        </step>
                     </preprocessing>
                     <master_item>
                        <key>redis.info["{$REDIS.CONN.URI}"]</key>
                     </master_item>
                  </item_prototype>
                  <item_prototype>
                     <name>Redis: Expired time cap reached count{#SINGLETON}</name>
                     <type>DEPENDENT</type>
                     <key>redis.stats.expired_time_cap_reached_count[{#SINGLETON}]</key>
                     <delay>0</delay>
                     <history>7d</history>
                     <applications>
                        <application>
                           <name>Redis</name>
                        </application>
                     </applications>
                     <preprocessing>
                        <step>
                           <type>JSONPATH</type>
                           <params>$.Stats.expired_time_cap_reached_count</params>
                        </step>
                     </preprocessing>
                     <master_item>
                        <key>redis.info["{$REDIS.CONN.URI}"]</key>
                     </master_item>
                  </item_prototype>
                  <item_prototype>
                     <name>Redis: Slave expires tracked keys{#SINGLETON}</name>
                     <type>DEPENDENT</type>
                     <key>redis.stats.slave_expires_tracked_keys[{#SINGLETON}]</key>
                     <delay>0</delay>
                     <history>7d</history>
                     <applications>
                        <application>
                           <name>Redis</name>
                        </application>
                     </applications>
                     <preprocessing>
                        <step>
                           <type>JSONPATH</type>
                           <params>$.Stats.slave_expires_tracked_keys</params>
                        </step>
                     </preprocessing>
                     <master_item>
                        <key>redis.info["{$REDIS.CONN.URI}"]</key>
                     </master_item>
                  </item_prototype>
               </item_prototypes>
               <master_item>
                  <key>redis.info["{$REDIS.CONN.URI}"]</key>
               </master_item>
               <preprocessing>
                  <step>
                     <type>JSONPATH</type>
                     <params>$.Server.redis_version</params>
                  </step>
                  <step>
                     <type>JAVASCRIPT</type>
                     <params>return JSON.stringify(parseInt(value.split('.')[0]) &gt;= 4 ? [{'{#SINGLETON}': ''}] : []);</params>
                  </step>
               </preprocessing>
            </discovery_rule>
            <discovery_rule>
               <name>Version 5+ metrics discovery</name>
               <type>DEPENDENT</type>
               <key>redis.metrics.v5.discovery</key>
               <delay>0</delay>
               <description>Additional metrics for version 5+</description>
               <item_prototypes>
                  <item_prototype>
                     <name>Redis: Max input buffer{#SINGLETON}</name>
                     <type>DEPENDENT</type>
                     <key>redis.clients.max_input_buffer[{#SINGLETON}]</key>
                     <delay>0</delay>
                     <history>7d</history>
                     <description>The biggest input buffer among current client connections</description>
                     <applications>
                        <application>
                           <name>Redis</name>
                        </application>
                     </applications>
                     <preprocessing>
                        <step>
                           <type>JSONPATH</type>
                           <params>$.Clients.client_recent_max_input_buffer</params>
                        </step>
                     </preprocessing>
                     <master_item>
                        <key>redis.info["{$REDIS.CONN.URI}"]</key>
                     </master_item>
                  </item_prototype>
                  <item_prototype>
                     <name>Redis: Max output buffer{#SINGLETON}</name>
                     <type>DEPENDENT</type>
                     <key>redis.clients.max_output_buffer[{#SINGLETON}]</key>
                     <delay>0</delay>
                     <history>7d</history>
                     <description>The biggest output buffer among current client connections</description>
                     <applications>
                        <application>
                           <name>Redis</name>
                        </application>
                     </applications>
                     <preprocessing>
                        <step>
                           <type>JSONPATH</type>
                           <params>$.Clients.client_recent_max_output_buffer</params>
                        </step>
                     </preprocessing>
                     <master_item>
                        <key>redis.info["{$REDIS.CONN.URI}"]</key>
                     </master_item>
                  </item_prototype>
                  <item_prototype>
                     <name>Redis: Allocator active{#SINGLETON}</name>
                     <type>DEPENDENT</type>
                     <key>redis.memory.allocator_active[{#SINGLETON}]</key>
                     <delay>0</delay>
                     <history>7d</history>
                     <applications>
                        <application>
                           <name>Redis</name>
                        </application>
                     </applications>
                     <preprocessing>
                        <step>
                           <type>JSONPATH</type>
                           <params>$.Memory.allocator_active</params>
                        </step>
                     </preprocessing>
                     <master_item>
                        <key>redis.info["{$REDIS.CONN.URI}"]</key>
                     </master_item>
                  </item_prototype>
                  <item_prototype>
                     <name>Redis: Allocator allocated{#SINGLETON}</name>
                     <type>DEPENDENT</type>
                     <key>redis.memory.allocator_allocated[{#SINGLETON}]</key>
                     <delay>0</delay>
                     <history>7d</history>
                     <applications>
                        <application>
                           <name>Redis</name>
                        </application>
                     </applications>
                     <preprocessing>
                        <step>
                           <type>JSONPATH</type>
                           <params>$.Memory.allocator_allocated</params>
                        </step>
                     </preprocessing>
                     <master_item>
                        <key>redis.info["{$REDIS.CONN.URI}"]</key>
                     </master_item>
                  </item_prototype>
                  <item_prototype>
                     <name>Redis: Allocator fragmentation bytes{#SINGLETON}</name>
                     <type>DEPENDENT</type>
                     <key>redis.memory.allocator_frag_bytes[{#SINGLETON}]</key>
                     <delay>0</delay>
                     <history>7d</history>
                     <applications>
                        <application>
                           <name>Redis</name>
                        </application>
                     </applications>
                     <preprocessing>
                        <step>
                           <type>JSONPATH</type>
                           <params>$.Memory.allocator_frag_bytes</params>
                        </step>
                     </preprocessing>
                     <master_item>
                        <key>redis.info["{$REDIS.CONN.URI}"]</key>
                     </master_item>
                  </item_prototype>
                  <item_prototype>
                     <name>Redis: Allocator fragmentation ratio{#SINGLETON}</name>
                     <type>DEPENDENT</type>
                     <key>redis.memory.allocator_frag_ratio[{#SINGLETON}]</key>
                     <delay>0</delay>
                     <history>7d</history>
                     <value_type>FLOAT</value_type>
                     <applications>
                        <application>
                           <name>Redis</name>
                        </application>
                     </applications>
                     <preprocessing>
                        <step>
                           <type>JSONPATH</type>
                           <params>$.Memory.allocator_frag_ratio</params>
                        </step>
                     </preprocessing>
                     <master_item>
                        <key>redis.info["{$REDIS.CONN.URI}"]</key>
                     </master_item>
                  </item_prototype>
                  <item_prototype>
                     <name>Redis: Allocator resident{#SINGLETON}</name>
                     <type>DEPENDENT</type>
                     <key>redis.memory.allocator_resident[{#SINGLETON}]</key>
                     <delay>0</delay>
                     <history>7d</history>
                     <applications>
                        <application>
                           <name>Redis</name>
                        </application>
                     </applications>
                     <preprocessing>
                        <step>
                           <type>JSONPATH</type>
                           <params>$.Memory.allocator_resident</params>
                        </step>
                     </preprocessing>
                     <master_item>
                        <key>redis.info["{$REDIS.CONN.URI}"]</key>
                     </master_item>
                  </item_prototype>
                  <item_prototype>
                     <name>Redis: Allocator RSS bytes{#SINGLETON}</name>
                     <type>DEPENDENT</type>
                     <key>redis.memory.allocator_rss_bytes[{#SINGLETON}]</key>
                     <delay>0</delay>
                     <history>7d</history>
                     <applications>
                        <application>
                           <name>Redis</name>
                        </application>
                     </applications>
                     <preprocessing>
                        <step>
                           <type>JSONPATH</type>
                           <params>$.Memory.allocator_rss_bytes</params>
                        </step>
                     </preprocessing>
                     <master_item>
                        <key>redis.info["{$REDIS.CONN.URI}"]</key>
                     </master_item>
                  </item_prototype>
                  <item_prototype>
                     <name>Redis: Allocator RSS ratio{#SINGLETON}</name>
                     <type>DEPENDENT</type>
                     <key>redis.memory.allocator_rss_ratio[{#SINGLETON}]</key>
                     <delay>0</delay>
                     <history>7d</history>
                     <value_type>FLOAT</value_type>
                     <applications>
                        <application>
                           <name>Redis</name>
                        </application>
                     </applications>
                     <preprocessing>
                        <step>
                           <type>JSONPATH</type>
                           <params>$.Memory.allocator_rss_ratio</params>
                        </step>
                     </preprocessing>
                     <master_item>
                        <key>redis.info["{$REDIS.CONN.URI}"]</key>
                     </master_item>
                  </item_prototype>
                  <item_prototype>
                     <name>Redis: Memory fragmentation bytes{#SINGLETON}</name>
                     <type>DEPENDENT</type>
                     <key>redis.memory.fragmentation_bytes[{#SINGLETON}]</key>
                     <delay>0</delay>
                     <history>7d</history>
                     <applications>
                        <application>
                           <name>Redis</name>
                        </application>
                     </applications>
                     <preprocessing>
                        <step>
                           <type>JSONPATH</type>
                           <params>$.Memory.mem_fragmentation_bytes</params>
                        </step>
                     </preprocessing>
                     <master_item>
                        <key>redis.info["{$REDIS.CONN.URI}"]</key>
                     </master_item>
                  </item_prototype>
                  <item_prototype>
                     <name>Redis: Memory fragmentation ratio{#SINGLETON}</name>
                     <type>DEPENDENT</type>
                     <key>redis.memory.fragmentation_ratio[{#SINGLETON}]</key>
                     <delay>0</delay>
                     <history>7d</history>
                     <value_type>FLOAT</value_type>
                     <description>Ratio between used_memory_rss and used_memory</description>
                     <applications>
                        <application>
                           <name>Redis</name>
                        </application>
                     </applications>
                     <preprocessing>
                        <step>
                           <type>JSONPATH</type>
                           <params>$.Memory.mem_fragmentation_ratio</params>
                        </step>
                     </preprocessing>
                     <master_item>
                        <key>redis.info["{$REDIS.CONN.URI}"]</key>
                     </master_item>
                  </item_prototype>
                  <item_prototype>
                     <name>Redis: Memory AOF buffer{#SINGLETON}</name>
                     <type>DEPENDENT</type>
                     <key>redis.memory.mem_aof_buffer[{#SINGLETON}]</key>
                     <delay>0</delay>
                     <history>7d</history>
                     <description>Size of the AOF buffer</description>
                     <applications>
                        <application>
                           <name>Redis</name>
                        </application>
                     </applications>
                     <preprocessing>
                        <step>
                           <type>JSONPATH</type>
                           <params>$.Memory.mem_aof_buffer</params>
                        </step>
                     </preprocessing>
                     <master_item>
                        <key>redis.info["{$REDIS.CONN.URI}"]</key>
                     </master_item>
                  </item_prototype>
                  <item_prototype>
                     <name>Redis: Memory clients normal{#SINGLETON}</name>
                     <type>DEPENDENT</type>
                     <key>redis.memory.mem_clients_normal[{#SINGLETON}]</key>
                     <delay>0</delay>
                     <history>7d</history>
                     <applications>
                        <application>
                           <name>Redis</name>
                        </application>
                     </applications>
                     <preprocessing>
                        <step>
                           <type>JSONPATH</type>
                           <params>$.Memory.mem_clients_normal</params>
                        </step>
                     </preprocessing>
                     <master_item>
                        <key>redis.info["{$REDIS.CONN.URI}"]</key>
                     </master_item>
                  </item_prototype>
                  <item_prototype>
                     <name>Redis: Memory clients slaves{#SINGLETON}</name>
                     <type>DEPENDENT</type>
                     <key>redis.memory.mem_clients_slaves[{#SINGLETON}]</key>
                     <delay>0</delay>
                     <history>7d</history>
                     <applications>
                        <application>
                           <name>Redis</name>
                        </application>
                     </applications>
                     <preprocessing>
                        <step>
                           <type>JSONPATH</type>
                           <params>$.Memory.mem_clients_slaves</params>
                        </step>
                     </preprocessing>
                     <master_item>
                        <key>redis.info["{$REDIS.CONN.URI}"]</key>
                     </master_item>
                  </item_prototype>
                  <item_prototype>
                     <name>Redis: Memory not counted for evict{#SINGLETON}</name>
                     <type>DEPENDENT</type>
                     <key>redis.memory.not_counted_for_evict[{#SINGLETON}]</key>
                     <delay>0</delay>
                     <history>7d</history>
                     <applications>
                        <application>
                           <name>Redis</name>
                        </application>
                     </applications>
                     <preprocessing>
                        <step>
                           <type>JSONPATH</type>
                           <params>$.Memory.mem_not_counted_for_evict</params>
                        </step>
                     </preprocessing>
                     <master_item>
                        <key>redis.info["{$REDIS.CONN.URI}"]</key>
                     </master_item>
                  </item_prototype>
                  <item_prototype>
                     <name>Redis: Memory number of cached scripts{#SINGLETON}</name>
                     <type>DEPENDENT</type>
                     <key>redis.memory.number_of_cached_scripts[{#SINGLETON}]</key>
                     <delay>0</delay>
                     <history>7d</history>
                     <applications>
                        <application>
                           <name>Redis</name>
                        </application>
                     </applications>
                     <preprocessing>
                        <step>
                           <type>JSONPATH</type>
                           <params>$.Memory.number_of_cached_scripts</params>
                        </step>
                     </preprocessing>
                     <master_item>
                        <key>redis.info["{$REDIS.CONN.URI}"]</key>
                     </master_item>
                  </item_prototype>
                  <item_prototype>
                     <name>Redis: Memory replication backlog{#SINGLETON}</name>
                     <type>DEPENDENT</type>
                     <key>redis.memory.replication_backlog[{#SINGLETON}]</key>
                     <delay>0</delay>
                     <history>7d</history>
                     <applications>
                        <application>
                           <name>Redis</name>
                        </application>
                     </applications>
                     <preprocessing>
                        <step>
                           <type>JSONPATH</type>
                           <params>$.Memory.mem_replication_backlog</params>
                        </step>
                     </preprocessing>
                     <master_item>
                        <key>redis.info["{$REDIS.CONN.URI}"]</key>
                     </master_item>
                  </item_prototype>
                  <item_prototype>
                     <name>Redis: Memory RSS overhead bytes{#SINGLETON}</name>
                     <type>DEPENDENT</type>
                     <key>redis.memory.rss_overhead_bytes[{#SINGLETON}]</key>
                     <delay>0</delay>
                     <history>7d</history>
                     <value_type>FLOAT</value_type>
                     <applications>
                        <application>
                           <name>Redis</name>
                        </application>
                     </applications>
                     <preprocessing>
                        <step>
                           <type>JSONPATH</type>
                           <params>$.Memory.rss_overhead_bytes</params>
                        </step>
                     </preprocessing>
                     <master_item>
                        <key>redis.info["{$REDIS.CONN.URI}"]</key>
                     </master_item>
                  </item_prototype>
                  <item_prototype>
                     <name>Redis: Memory RSS overhead ratio{#SINGLETON}</name>
                     <type>DEPENDENT</type>
                     <key>redis.memory.rss_overhead_ratio[{#SINGLETON}]</key>
                     <delay>0</delay>
                     <history>7d</history>
                     <value_type>FLOAT</value_type>
                     <applications>
                        <application>
                           <name>Redis</name>
                        </application>
                     </applications>
                     <preprocessing>
                        <step>
                           <type>JSONPATH</type>
                           <params>$.Memory.rss_overhead_ratio</params>
                        </step>
                     </preprocessing>
                     <master_item>
                        <key>redis.info["{$REDIS.CONN.URI}"]</key>
                     </master_item>
                  </item_prototype>
                  <item_prototype>
                     <name>Redis: Memory used scripts{#SINGLETON}</name>
                     <type>DEPENDENT</type>
                     <key>redis.memory.used_memory_scripts[{#SINGLETON}]</key>
                     <delay>0</delay>
                     <history>7d</history>
                     <applications>
                        <application>
                           <name>Redis</name>
                        </application>
                     </applications>
                     <preprocessing>
                        <step>
                           <type>JSONPATH</type>
                           <params>$.Memory.used_memory_scripts</params>
                        </step>
                     </preprocessing>
                     <master_item>
                        <key>redis.info["{$REDIS.CONN.URI}"]</key>
                     </master_item>
                  </item_prototype>
               </item_prototypes>
               <master_item>
                  <key>redis.info["{$REDIS.CONN.URI}"]</key>
               </master_item>
               <preprocessing>
                  <step>
                     <type>JSONPATH</type>
                     <params>$.Server.redis_version</params>
                  </step>
                  <step>
                     <type>JAVASCRIPT</type>
                     <params>return JSON.stringify(value.split('.')[0] === '5' ? [{'{#SINGLETON}': ''}] : []);</params>
                  </step>
               </preprocessing>
            </discovery_rule>
         </discovery_rules>
         <macros>
            <macro>
               <macro>{$REDIS.CONN.URI}</macro>
               <value>tcp://localhost:6379</value>
               <description>Connection string in the URI format (password is not used). This param overwrites a value configured in the "Server" option of the configuration file (if it's set), otherwise, the plugin's default value is used: "tcp://localhost:6379"</description>
            </macro>
            <macro>
               <macro>{$REDIS.LLD.FILTER.DB.MATCHES}</macro>
               <value>.*</value>
               <description>Filter of discoverable databases</description>
            </macro>
            <macro>
               <macro>{$REDIS.LLD.FILTER.DB.NOT_MATCHES}</macro>
               <value>CHANGE_IF_NEEDED</value>
               <description>Filter to exclude discovered databases</description>
            </macro>
            <macro>
               <macro>{$REDIS.LLD.PROCESS_NAME}</macro>
               <value>redis-server</value>
               <description>Redis server process name for LLD</description>
            </macro>
            <macro>
               <macro>{$REDIS.PROCESS_NAME}</macro>
               <value>redis-server</value>
               <description>Redis server process name</description>
            </macro>
         </macros>
      </template>
   </templates>
</zabbix_export>
